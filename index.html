<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Flattr by simon</title>
    
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Flattr</h1>
        <p>A ruby gem wrapping Flattrs REST API</p>
        <p class="view"><a href="https://github.com/simon/flattr">View the Project on GitHub <small>simon/flattr</small></a></p>
        <ul>
          <li><a href="https://github.com/simon/flattr/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/simon/flattr/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/simon/flattr">Fork On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>The Flattr Ruby Gem <a href="http://travis-ci.org/simon/flattr"><img src="https://secure.travis-ci.org/simon/flattr.png" alt="Build Status"></a> <a href="https://gemnasium.com/simon/flattr"><img src="https://gemnasium.com/simon/flattr.png" alt="Dependency Status"></a>
</h1>

<p>This gem is a wrapper around the Flattr API. With the gem you can search things, add new thing and much more. If you want information about updates follow <a href="http://twitter.com/simongate">@simongate</a> on twitter.</p>

<p><a href="https://flattr.com/submit/auto?user_id=smgt&amp;url=https://github.com/simon/flattr&amp;title=Flattr%20API%20gem&amp;language=en_GB&amp;tags=github&amp;category=software"><img src="http://api.flattr.com/button/flattr-badge-large.png" alt="Flattr this git repo"></a></p>

<h2>Installation</h2>

<p>Installation is easy, just install the gem with.</p>

<p><code>gem install flattr</code></p>

<h3>Dependencies</h3>

<ul>
<li><a href="https://github.com/technoweenie/faraday">Faraday</a></li>
<li><a href="https://github.com/intridea/multi_json">multi_json</a></li>
</ul><h2>Usage</h2>

<p>To talk with all of Flattr API resources you need to <a href="http://flattr.com/apps">register a application</a>. This will give you a <code>client id</code> and a <code>client secret</code> whom you can exchange for a <code>access token</code>. The <code>access token</code> is then used to access the resources in the Flattr API that needs authentication. You can find more information about the API in <a href="http://developers.flattr.net/api">Flattr developer documents</a>.</p>

<h3>Resources</h3>

<p>You can find documentation about available resources in the code.</p>

<ul>
<li><a href="https://github.com/simon/flattr/blob/master/lib/flattr/client/flattrs.rb">flattrs</a></li>
<li><a href="https://github.com/simon/flattr/blob/master/lib/flattr/client/things.rb">things</a></li>
<li><a href="https://github.com/simon/flattr/blob/master/lib/flattr/client/users.rb">users</a></li>
<li><a href="https://github.com/simon/flattr/blob/master/lib/flattr/client/categories.rb">categories</a></li>
<li><a href="https://github.com/simon/flattr/blob/master/lib/flattr/client/languages.rb">languages</a></li>
</ul><h3>Access public resources</h3>

<p>There are several public available resources in the Flattr API where you don't need to authenticate to access.</p>

<div class="highlight">
<pre><span class="c1"># Fetch a public thing</span>
<span class="n">flattr</span> <span class="o">=</span> <span class="no">Flattr</span><span class="o">.</span><span class="n">new</span>

<span class="n">flattr</span><span class="o">.</span><span class="n">thing</span> <span class="mi">423405</span>
<span class="c1"># =&gt; #&lt;Flattr::Thing:0x007fccbb4f1d40 @attrs={"type"=&gt;"thing", "resource"=&gt;"https://api.flattr.com/rest/v2/things/423405", "link"=&gt;"https://flattr.com/thing/423405", "id"=&gt;423405, "url"=&gt;"http://blog.flattr.net/2011/10/api-v2-beta-out-whats-changed/", "language"=&gt;"en_GB", "category"=&gt;"text", "owner"=&gt;{"type"=&gt;"user", "resource"=&gt;"https://api.flattr.com/rest/v2/users/flattr", "link"=&gt;"https://flattr.com/profile/flattr", "username"=&gt;"flattr"}, "hidden"=&gt;false, "created_at"=&gt;1319704532, "tags"=&gt;["api"], "flattrs"=&gt;9, "description"=&gt;"We have been working hard to deliver a great experience for developers and tried to build a good foundation for easily add new features. The API will remain in beta for a while for us to kill quirks and refine some of the resources, this means there might be big changes without notice for ...", "title"=&gt;"API v2 beta out – what’s changed?"}&gt;</span>
</pre>
</div>


<h3>Access protected resources</h3>

<p>The gem allows makes it easy to do the oauth2 dance.</p>

<div class="highlight">
<pre><span class="no">Flattr</span><span class="o">.</span><span class="n">configure</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="n">config</span><span class="o">.</span><span class="n">client_id</span> <span class="o">=</span> <span class="s1">'1234'</span>
  <span class="n">config</span><span class="o">.</span><span class="n">client_secret</span> <span class="o">=</span> <span class="s1">'4567'</span>
<span class="k">end</span>

<span class="n">flattr</span> <span class="o">=</span> <span class="no">Flattr</span><span class="o">.</span><span class="n">new</span>

<span class="nb">puts</span> <span class="s1">'Open this URL in your browser to authenticate your application'</span>
<span class="nb">puts</span> <span class="n">flattr</span><span class="o">.</span><span class="n">authorize_url</span>

<span class="nb">puts</span> <span class="s2">"</span><span class="se">\n\n</span><span class="s2">"</span>

<span class="nb">puts</span> <span class="s1">'When your with the authentication the browser will redirect you to the callback URL you specified when creating a application. It has also included a code in the query string. Copy paste this code to the command line.'</span>
<span class="nb">print</span> <span class="s1">'code: '</span>
<span class="n">code</span> <span class="o">=</span> <span class="nb">gets</span>

<span class="c1"># Use the code and exchange it for a access_token</span>
<span class="n">access_token</span> <span class="o">=</span> <span class="n">flattr</span><span class="o">.</span><span class="n">get_access_token</span> <span class="n">code</span>

<span class="nb">puts</span> <span class="n">access_token</span>

<span class="c1"># You are now authorized! ;)</span>

</pre>
</div>


<h3>Scopes available</h3>

<p>If you request a access token without any scopes you won't be able to flattr other users things and such. The scopes available are:</p>

<ul>
<li>
<code>thing</code> - Create and update things</li>
<li>
<code>flattr</code> - Flattr things</li>
<li>
<code>extendedread</code> - Access all the information about users</li>
</ul><h2>What needs to be done</h2>

<ul>
<li>Add all the Flattr API resources</li>
<li>More tests are needed, coverage isn't that good</li>
</ul><h2>Supported Ruby Versions</h2>

<p>This library aims to support and is <a href="http://travis-ci.org/simon/flattr">tested against</a> the following Ruby implementations:</p>

<ul>
<li>Ruby 1.8.7</li>
<li>Ruby 1.9.2</li>
<li>Ruby 1.9.3</li>
<li>JRuby</li>
<li>Rubinius</li>
<li>Ruby Enterprise Edition</li>
</ul><p>If something doesn't work on one of these interpreters, it should be considered a bug.</p>

<p>This library may inadvertently work (or seem to work) on other Ruby implementations, however support will only be provided for the versions listed above.</p>

<p>If you would like this library to support another Ruby version, you may volunteer to be a maintainer. Being a maintainer entails making sure all tests run and pass on that implementation. When something breaks on your implementation, you will be personally responsible for providing patches in a timely fashion. If critical issues for a particular implementation exist at the time of a major release, support for that Ruby version may be dropped.</p>

<h2>Copyright</h2>

<p>Copyright (c) 2011 Simon Gate, Joel Hansson. See LICENSE for details.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/simon">simon</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>